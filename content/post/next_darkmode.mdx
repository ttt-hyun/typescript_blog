---
title : "[NextJs] ë‹¤í¬ëª¨ë“œ"
description : ThemeProviderë¥¼ í™œìš©í•œ NextJs ë‹¤í¬ëª¨ë“œ êµ¬í˜„í•˜ê¸°
date : 2024-01-04 19:30
category: nextjs
related: ['NextJs', 'DarkMode', 'ThemeProvider']
published: true
---

# ğŸ“ ë‹¤í¬ëª¨ë“œ ì„¤ì •í•˜ê¸°

## ğŸ§© next-themes ì„¤ì¹˜

`next-themes` ì„¤ì¹˜í•˜ê¸°
```shell
$ npm install next-themes
```
<br />

## ğŸ§© ThemeProviderë¥¼ ì‚¬ìš©í•œ ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸°
`next-themes`ì—ì„œ ì„¤ì¹˜í•œ `ThemeProvider`ëª¨ë“ˆì„ ì‚¬ìš©í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸°
```javascript
// components/ThemeProvider.tsx
"use client";

import * as React from 'react';
import { ThemeProvider as NextThemesProvider } from 'next-themes';
import { type ThemeProviderProps } from 'next-themes/dist/types';

export default function ThemeProvider({ children, ...props }: ThemeProviderProps) {
    return <NextThemesProvider {...props}>{children}</NextThemesProvider>
}
```

## ğŸ§© í…Œë§ˆ ë³€ê²½ ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸°
Themeë¥¼ ë³€ê²½ì‹œì¼œì¤„ eventHandlerë¥¼ í¬í•¨í•œ ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸°(ë²„íŠ¼)

```javascript
// components/ThemeButton.tsx
"use client";

import React, { useState, useEffect } from 'react'
import { useTheme } from 'next-themes';

const ThemeButton = () => {
    const { theme, setTheme } = useTheme();
    const [mounted, setMounted] = useState(false);

    useEffect(() => {
        setMounted(true);
    })

    if (!mounted) {
        return <button type='button' disabled={true}></button>
    }

    const dark = theme === 'dark';

    return <button
                type='button' 
                onClick={() => setTheme(`${dark ? 'light' : 'dark'}`)}
            > ëª¨ë“œ ë³€ê²½
            </button>
};

export default ThemeButton;
```

## ğŸ§© ë²„íŠ¼ ë°°ì¹˜í•˜ê¸°
í…Œë§ˆë¥¼ ë³€ê²½ì‹œí‚¤ëŠ” EventHandlerë¥¼ ê°€ì§„ ë²„íŠ¼ì„ ë°°ì¹˜
```javascript
import { Header, ThemeProvider, ThemeButton } from '@/components';


export default function RootLayout({
    children,
}: Readonly<{
    children: React.ReactNode;
}>) {
    return (
        <html>
            <body>
                <Header />
                <main>
                    {children}
                </main>
                <ThemeProvider attribute="class" enableSystem disableTransitionOnChange>
                    <ThemeButton />
                </ThemeProvider>
            </body>
        </html>
    );
}
```

### ThemeProviderProps ì˜µì…˜
```javascript
// node_modules/next-themes/dist/types.d.ts
interface ThemeProviderProps {

    /** List of all available theme names */
    themes?: string[] | undefined;

    /** Forced theme name for the current page */
    forcedTheme?: string | undefined;

    /** Whether to switch between dark and light themes based on prefers-color-scheme */
    enableSystem?: boolean | undefined;

    /** Disable all CSS transitions when switching themes */
    disableTransitionOnChange?: boolean | undefined;

    /** Whether to indicate to browsers which color scheme is used (dark or light) for built-in UI like inputs and buttons */
    enableColorScheme?: boolean | undefined;

    /** Key used to store theme setting in localStorage */
    storageKey?: string | undefined;

    /** Default theme name (for v0.0.12 and lower the default was light). If `enableSystem` is false, the default theme is light */
    defaultTheme?: string | undefined;

    /** HTML attribute modified based on the active theme. Accepts `class` and `data-*` (meaning any data attribute, `data-mode`, `data-color`, etc.) */
    attribute?: string | 'class' | undefined;

    /** Mapping of theme name to HTML attribute value. Object where key is the theme name and value is the attribute value */
    value?: ValueObject | undefined;

    /** Nonce string to pass to the inline script for CSP headers */
    nonce?: string | undefined;

    /** React children */
    children: React.ReactNode;
}
```

# ğŸ“ë‹¤í¬ëª¨ë“œ ì„¤ì • ê²°ê³¼

<div align="center">
<img
  src="../image/ts_img1.png"
  width="300"
/>
&nbsp;
<img
  src="../image/ts_img4.png"
  width="300"
/>
</div>

<div align="center">
<img
  src="../image/ts_img2.png"
  width="300"
/>
<img
  src="../image/ts_img3.png"
  width="300"
/>
</div>

ì¶”ê°€ë¡œ tailwindcssë¥¼ ì‚¬ìš©í•œë‹¤ë©´ tailwind.configíŒŒì¼ì— ë‹¤í¬ëª¨ë“œë¥¼ ì¸ì‹í•  ìˆ˜ ìˆê²Œ ì½”ë“œë¥¼ ì¶”ê°€í•´ì¤˜ì•¼í•œë‹¤.
```javascript
import type { Config } from "tailwindcss";

const config: Config = {
  darkMode: 'class',
  // ...
}
```




